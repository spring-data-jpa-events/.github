## spring-data-jpa-events

The main objective of the current "Organization" is to provide a suite of spring-boot libs (starter) to simplify inter-services event driven CRUD resources synchronization.

### usecase example

In a microservices environment, it is frequent to have dependency on external services owning resources linked to your current service. 
The naive approach I have seen used most of the time is to have ServiceB request ServiceA for the needed resource at runtime. 
This is a perfectly fine simple first iteration and there is nothing bad with this per say.

The disavantages of doing this are:
  - if serviceA goes down then serviceB is impacted
  - serviceB answer will be slower (waiting on serviceA)
  - more network load between services

The proposed alternative here is to rely on events generated by serviceA to sync only the needed data in serviceB database. This way serviceB only need to hit the database.

The advantages are:
  - serviceB stay up even if serviceA goes down (good for my oncall sleep)
  - reduce the quantity of inter-service network requests
  - potentially faster API responses

The disavatanges are:
  - more memory used in serviceB database
  - added system complexity
  - need to deal with "eventual consistency" as part of the API designs

``` mermaid
flowchart LR

  subgraph user
    direction TB
    user_service
    user_db[(user_db)]
    user_service --> user_db
  end

  subgraph playlist
    direction TB
    playlist_service
    playlist_db[(playlist_db)]
    playlist_service --> playlist_db
  end

  subgraph kafka
    user_topic[/user_topic/]
  end

  user --> kafka
  kafka --> playlist

``` 

